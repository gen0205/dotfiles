# My Vim Cheat Seat

## how to read

- `<C-e>`: Ctrlを押しながらeを押す
- `<S-">`: Shiftを押しながら"を押す

## スクロール

### カーソルを固定して1行ずつスクロール

- `<C-e>`: 1行下にスクロール
- `<C-y>`: 1行上にスクロール

## カーソル移動

### カーソル位置に戻る/進む

`<C-o>`: 戻る
`<C-i>`: 進む

### 画面内の任意の場所にジャンプ

`<Space><Space>s + [任意の1文字]`: 任意の1文字を打ち込んだ場所にジャンプ(easymotion)

## 検索系

### 最近開いたファイルを開く

`<Space> + f`

### mark一覧を開く

`<Space> + m`

### カレントディレクトリ配下を曖昧検索

`<Space> + p`: FZFでカレントディレクトリ配下を曖昧検索

### カレントディレクトリ配下でgrep(ripgrep)検索

`<Space> + g`: `:Rg [検索したい文字列] + [Enter]`で検索実行し、FGFを開く

## 置換系

### 1つずつ確認しながら置換する

`:%s/置換前文字列/置換後文字列/gc`: マッチした置換前文字列に対して確認しながら置換を行う

### 確認なしで一括置換

`:%s/置換前文字列/置換後文字列/g`: 置換前文字列を確認なしで置換後文字列に置換する  
`<C-r>`: 上記フォーマットの即時呼び出し

### 検索ハイライトした状態で置換開始

一度`/<search_word>` または `*` で検索ワードをハイライトした状態で、  
`:%s//置換後文字列/g`を実行すると、そのままハイライトした単語を置換する

## git系

### git blame

`:Gblame`: blameウィンドウを開く see also `:h Gblame`

### カレントバッファのコミット履歴を見る

`<Space> + c`: `:BCommits`を実行

## インデント

### インデント可視化設定のOn/Off

`<Space> + ig`でOn/Off切り替え

### 複数行を選択してインデント

1. shift+vで行を複数選択
2. `>` または `<` でインデントを調整する
3. `.` で直前コマンドを繰り返してインデントを連続で調整する

## 入力関連

- insertモード中に`jj`: insertモードを抜ける

### 入力補完

- insertモードで何か入力して`<C-p>`: 押すと現在開いている全てのファイルに出現した単語が補完候補として表示される
- Deopleteを導入しているので入力中に自動的に候補が表示される

## フォーマット関連

### 行を分割

> https://github.com/AndrewRadev/splitjoin.vim

- `gS`: カーソル行を複数行に展開する(split)
- `gJ`: カーソル行に次の行を結合する(join)

## バッファ

### 新規バッファを開始する

- `:enew`：カレントウィンドウで新規バッファを開く
- `:new`：splitして新規バッファを開く

### バッファ一覧

- `:Buffers` or `<Space> + b`: バッファ一覧をFZFで開く
  - この場合、FZF上で選択したファイルを開くことが可能
- `:buffers`: バッファ一覧(vim標準機能)

### バッファ移動

- `:bn`: 次のバッファへ移動
- `:bp`: 前のバッファへ移動

### バッファ削除

- `:bd [バッファ番号]`: 指定した番号のバッファを削除する
- `:bw [バッファ番号]`: 指定した番号のバッファを完全削除する
- `<Space> + q`: 現在開いているバッファを削除して直前のバッファに切り替える

## レジスタ

### コマンド内にレジスタ(yank/delete)の内容を貼り付ける

- `:<C-r> + <S-">`: 無名レジスタ(")に登録された内容を貼り付ける

## その他

### pluginのアップデート

dein.vimではアップデートが自動的に行われない為コマンドによりアップデートを行う。
ノーマルモードで以下コマンドを実行(実行後はアップデートが完了するまでコマンド操作を行えない)
`:call dein#update()`

### vim起動中にvimrc再読み込み

ノーマルモード中に以下
`:Refresh`

vueのシンタックスが壊れた時などに上記を実行すると直るかも。

### vim起動中にファイル再読み込み

- `:e!`: 起動中ファイル再読込
- `:bufdo e!`: 全バッファの再読込
- `:tabdo e!`: 全タブページの再読込

### ファイルタイプ確認

- `:set filetype?`: 現在編集しているファイルのfiletypeを確認
